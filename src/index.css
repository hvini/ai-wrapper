:root {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: dark;
  color: rgba(255, 255, 255, 0.95);

  /* Liquid Glass Variables */
  --glass-bg: rgba(40, 40, 55, 0.25);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-shine: rgba(255, 255, 255, 0.08);
  /* Specular highlight */
  --surface-bg: rgba(255, 255, 255, 0.05);
  /* Subtly lighter than base */

  --accent-primary: #818cf8;
  /* Soft Indigo */
  --accent-glow: rgba(129, 140, 248, 0.5);

  --text-secondary: rgba(255, 255, 255, 0.75);

  --red-soft: #fb7185;
  --green-soft: #4ade80;

  /* The "Vibrancy" effect */
  --backdrop-style: saturate(180%) blur(25px);
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
  /* Deep, rich gradient background to demonstrate the glass effect */
  background: radial-gradient(circle at 50% -20%, #2a2d48, #0f1016);
  overflow: hidden;
}

#root {
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
}

/* Glass Main Container */
.glass-container {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;

  /* Liquid Glass Style */
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-style);
  -webkit-backdrop-filter: var(--backdrop-style);

  border: 1px solid var(--glass-border);
  box-shadow:
    0 20px 50px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  /* Inner rim light */

  border-radius: 12px;
  overflow: hidden;
}

/* Header */
.header {
  height: 52px;
  padding: 0 20px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0));
  border-bottom: 1px solid var(--glass-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  -webkit-app-region: drag;
  flex-shrink: 0;
}

.header h1 {
  margin: 0;
  font-size: 0.95rem;
  font-weight: 500;
  letter-spacing: 0.3px;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Status Indicator */
.status-check {
  font-size: 0.75rem;
  padding: 4px 12px;
  border-radius: 20px;
  background: rgba(0, 0, 0, 0.2);
  color: var(--text-secondary);
  border: 1px solid rgba(255, 255, 255, 0.08);
  font-weight: 500;
  white-space: nowrap;
  backdrop-filter: blur(10px);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Tabs Navigation */
.location-tabs {
  display: flex;
  justify-content: center;
  gap: 12px;
  padding: 16px 20px 8px 20px;
  flex-shrink: 0;
}

.tab-btn {
  background: transparent;
  border: none;
  padding: 8px 18px;
  color: var(--text-secondary);
  font-family: inherit;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: 20px;
  /* Pill shape */
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative;
}

.tab-btn:hover {
  color: #fff;
  background: rgba(255, 255, 255, 0.06);
}

.tab-btn.active {
  color: #fff;
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  font-weight: 600;
}

/* Layout Content */
.main-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 20px;
  gap: 20px;
  overflow: hidden;
  -webkit-app-region: no-drag;
}

/* Context Container */
.context-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  animation: fadeIn 0.4s ease-out;
  overflow-y: auto;
  padding-right: 8px;
  /* Avoid scrollbar overlap content */
}

/* Resize Handle */
.resize-handle {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 20px;
  height: 20px;
  cursor: se-resize;
  z-index: 50;
  background-image: radial-gradient(circle, rgba(255, 255, 255, 0.4) 1px, transparent 1px);
  background-size: 4px 4px;
  background-position: center;
  mask-image: linear-gradient(135deg, transparent 50%, black 50%);
  -webkit-mask-image: linear-gradient(135deg, transparent 50%, black 50%);
  opacity: 0.7;
  transition: opacity 0.2s;
  pointer-events: none;
  /* Let clicks pass through if handled by OS, or auto if handled by electron-drag/resize logic which usually needs interactable area. But usually purely visual if window manager handles it. 
  Actually for a custom frameless window, often you need a div with -webkit-app-region: no-drag (it is default) and maybe some electron logic, or just let it start resizing.
  If this is just an INDICATOR, pointer-events: none is safer to not block underlying clicks if any. But usually resize handle IS the thing you click.
  However, often resizing is done by the window border. If the user wants to drag FROM IT, it implies it should be a drag handle.
  In many Electron frameless setups, you just rely on the edges.
  Unless I am using a library for custom resize handles.
  I will assume it is visual mainly, but giving it pointer-events: auto won't hurt.
  */
  pointer-events: auto;
}

.resize-handle:hover {
  opacity: 1;
}

.input-group {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.input-group label {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-secondary);
  margin-left: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Text Inputs with Liquid Style */
.context-input {
  width: 100%;
  background: rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  color: #fff;
  padding: 16px;
  font-family: inherit;
  font-size: 1rem;
  line-height: 1.6;
  resize: none;
  box-sizing: border-box;
  outline: none;
  transition: all 0.25s ease;
  flex-shrink: 0;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.context-input:focus {
  background: rgba(0, 0, 0, 0.25);
  border-color: rgba(255, 255, 255, 0.25);
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(255, 255, 255, 0.05);
}

.context-input.full-height {
  flex: 1;
  min-height: 200px;
}

/* Custom Select Styling to match Glass Theme */
select.context-input {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 1em;
  padding-right: 2.5rem;
  /* Space for the arrow */
}

select.context-input option {
  background-color: #1c1c24;
  /* Solid dark color for options (transparency often fails here) */
  color: #fff;
  padding: 12px;
}

/* Split Area */
.transcription-area,
.analysis-area {
  position: relative;

  /* Liquid Card Style */
  background: var(--surface-bg);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  border: 1px solid var(--glass-border);

  border-radius: 16px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);

  /* Fix for "empty" layout: Ensure intrinsic height */
  min-height: 150px;
  flex-basis: auto;
}

.transcription-area:hover,
.analysis-area:hover {
  background: rgba(255, 255, 255, 0.07);
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}

.transcription-area {
  flex-grow: 1.2;
}

.analysis-area {
  flex-grow: 1;
}

/* Expanded/Collapsed States */
.transcription-area.expanded,
.analysis-area.expanded {
  flex-grow: 1000 !important;
  z-index: 10;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}

.transcription-area.collapsed,
.analysis-area.collapsed {
  flex-grow: 0 !important;
  flex-basis: 54px !important;
  min-height: 54px !important;
  height: 54px !important;
  background: rgba(0, 0, 0, 0.2);
  border-color: transparent;
}

.transcription-area.collapsed .scroll-box,
.analysis-area.collapsed .scroll-box {
  display: none;
}

/* Section Headers */
.area-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  background: rgba(255, 255, 255, 0.02);
  flex-shrink: 0;
}

.header-title {
  display: flex;
  align-items: center;
  gap: 10px;
}

.area-header h2 {
  margin: 0;
  padding: 0;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1.2px;
  color: var(--text-secondary);
}

.icon-btn {
  background: rgba(255, 255, 255, 0.05);
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.7rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.icon-btn:hover {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  transform: translateY(-1px);
}

/* Scrollable Content */
.scroll-box {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px 20px;
  font-family: 'Inter', sans-serif;
  font-size: 1rem;
  line-height: 1.6;
  color: #ffffff;
  scroll-behavior: smooth;
}

.scroll-box p {
  margin: 0 0 12px 0;
  word-wrap: break-word;
  animation: fadeIn 0.3s ease-out;
}

/* Analysis Items */
.analysis-item {
  margin-bottom: 16px;
  padding: 14px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.05);
  animation: fadeIn 0.4s ease-out;
}

/* Footer */
.controls-footer {
  padding: 20px;
  display: flex;
  justify-content: center;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.2), transparent);
  -webkit-app-region: no-drag;
  flex-shrink: 0;
}

/* Main Action Button */
button.glass-btn {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 14px 40px;
  border-radius: 50px;
  color: #fff;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  letter-spacing: 0.5px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(4px);
}

button.glass-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.1), transparent);
  opacity: 0;
  transition: opacity 0.3s;
}

button.glass-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

button.glass-btn:not(:disabled):hover {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  border-color: rgba(255, 255, 255, 0.4);
}

button.glass-btn:not(:disabled):hover::before {
  opacity: 1;
}

button.glass-btn:active {
  transform: translateY(0) scale(0.98);
}

button.glass-btn.recording {
  background: rgba(220, 38, 38, 0.25);
  border-color: rgba(252, 165, 165, 0.5);
  color: #fca5a5;
  box-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
  animation: pulse-red-glow 2s infinite;
}

@keyframes pulse-red-glow {
  0% {
    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4);
  }

  70% {
    box-shadow: 0 0 0 10px rgba(220, 38, 38, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(220, 38, 38, 0);
  }
}

/* Indicators */
.live-indicator {
  width: 8px;
  height: 8px;
  background-color: var(--green-soft);
  border-radius: 50%;
  box-shadow: 0 0 10px var(--green-soft);
  animation: pulse-green 2s infinite;
}

@keyframes pulse-green {
  0% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.5;
    transform: scale(1.2);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.hint-text {
  font-size: 0.85rem;
  color: var(--text-secondary);
  opacity: 0.8;
  margin: 0 8px;
}

.empty-state {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: var(--text-secondary);
  opacity: 0.4;
  font-style: italic;
  letter-spacing: 0.5px;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scrollbar Style */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.25);
}


/* Model Manager */
.model-manager {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  padding: 10px;
}

.model-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.model-info {
  display: flex;
  align-items: center;
  gap: 10px;
}

.model-name {
  font-size: 0.9rem;
  font-weight: 500;
  color: #fff;
}

.tag {
  font-size: 0.65rem;
  padding: 2px 8px;
  border-radius: 10px;
  font-weight: 600;
  text-transform: uppercase;
}

.active-tag {
  background: rgba(74, 222, 128, 0.2);
  color: #4ade80;
  border: 1px solid rgba(74, 222, 128, 0.3);
}

.downloaded-tag {
  background: rgba(129, 140, 248, 0.2);
  color: #818cf8;
  border: 1px solid rgba(129, 140, 248, 0.3);
}

.model-actions {
  display: flex;
  gap: 8px;
}

.small-glass-btn {
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 6px 14px;
  border-radius: 16px;
  color: var(--text-secondary);
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.small-glass-btn:hover:not(.disabled) {
  background: rgba(255, 255, 255, 0.15);
  color: #fff;
  transform: translateY(-1px);
}

.small-glass-btn.download-btn {
  background: rgba(129, 140, 248, 0.15);
  color: #a5b4fc;
  border-color: rgba(129, 140, 248, 0.2);
}

.small-glass-btn.download-btn:hover {
  background: rgba(129, 140, 248, 0.25);
  color: #fff;
}

.small-glass-btn.disabled {
  opacity: 0.5;
  cursor: default;
}